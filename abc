import threading
lock = threading.Lock()
def factorial(n):
fact = 1
for i in range(1, n + 1):
fact *= i

print(f" {n}! = {fact}")

with lock:
with open("results.txt", "a") as f:
f.write(f"The factorial of {n} is {fact}\n")

threads = []
for i in range(1, 101):
t = threading.Thread(target=factorial, args=(i,))
t.start()
threads.append(t)

for t in threads:
t.join()
